services:
  # Ubooquity
  ubooquity:
    image: linuxserver/ubooquity:latest
    container_name: ubooquity
    volumes:
      - ${BASE_DIR}/ubooquity/config:/config
      - ${MEDIA_DIR}/Books:/books
      - ${MEDIA_DIR}/Comics:/comics
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=${TIMEZONE}
    labels:
      - traefik.docker.network=proxied
      - traefik.frontend.rule=Host:ubooquity.${DOMAIN}
      - traefik.port=2202
      - traefik.default.protocol=http
      - traefik.admin.frontend.rule=Host:admin-ubooquity.${DOMAIN}
      - traefik.admin.port=2203
      - traefik.admin.protocol=http
    networks:
      - internal
      - proxied
    expose:
      - 2202
      - 2203
    restart: always
